---
title: "DAGs"
format: html
editor: visual
---

```{r}
#| include: false
#| screenshot: true
library(here)
library(DiagrammeR)
library(tidyverse)
library(dplyr)
```

Overall relationship between A and Y:

```{r echo=FALSE}
#| echo: false
grViz("
digraph {
  graph []
  node [shape = plaintext]
    A [label = 'A']
    Y [label = 'Y']
  edge [minlen = 1.5]
    A->Y [label = 'c']
  { rank = same; A; Y }
}")
```

A: Exposure; Y: Outcome; c: path from exposure (A) to outcome (Y)

Relationship between A and Y through M:

```{r echo=FALSE}
#| echo: false

grViz("
digraph {
  graph []
  node [shape = plaintext]
    A [label = 'A']
    M [label = 'M']
    Y [label = 'Y']
  edge [minlen = 1.5]
    A->Y [label = 'c*', xlabel = 'c']
    A->M [taillabel = 'a']
    M->Y [label = 'b']
  { rank = same; A; Y }
  { rank = min; M;}
}")
```

A: Exposure; Y: Outcome; M: Mediator of interest c: total path from
exposure (A) to outcome (Y); c\*: direct path from exposure (A) to
outcome (Y); a: path from exposure (A) to mediator (M); b: path from
mediator (M) to outcome (Y)

Example: How much does body mass index explain the relaitonship between
physical activity and pulse rate?

```{r echo=FALSE}
#| echo: false
grViz("
digraph {
  graph []
  node [shape = plaintext]
    X [label = 'Physical activity']
    M [label = 'BMI']
    Y [label = 'Pulse']
  edge [minlen = 1.5]
    X->Y [label = 'c*', xlabel = 'c']
    X->M [taillabel = 'a']
    M->Y [label = 'b']
  { rank = same; X; Y }
  { rank = min; M;}
}")
```

c: total path from physical activity to pulse rate; c\*: direct path
from physical activity to pulse rate; a: path from physical activity to
BMI; b: path from BMI to pulse rate

```{r}
#| echo: false

grViz("
digraph {
  graph []
  node [shape = plaintext]
    C [label = 'C']
    A [label = 'A']
    M [label = 'M']
    Y [label = 'Y']
  edge [minlen = 2]
    A->M
    M->Y
    A->Y
    C->A
    C->Y
    C->M
{rank = same; C; A; M; Y; }
}
")
```

A: Exposure; Y: Outcome; M: Mediator; C: confounding factors on the
pathways
